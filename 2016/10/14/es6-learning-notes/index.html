<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="ES6," />





  <link rel="alternate" href="/atom.xml" title="letica'ss timezone" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="我只是一个简单的学习笔记。  learn from this book:  《ECMAScript 6 入门》 by 阮一峰">
<meta name="keywords" content="ES6">
<meta property="og:type" content="article">
<meta property="og:title" content="ES6 学习笔记 (ing)">
<meta property="og:url" content="http://letica.github.io/2016/10/14/es6-learning-notes/index.html">
<meta property="og:site_name" content="letica&#39;ss timezone">
<meta property="og:description" content="我只是一个简单的学习笔记。  learn from this book:  《ECMAScript 6 入门》 by 阮一峰">
<meta property="og:updated_time" content="2018-02-05T13:02:58.249Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ES6 学习笔记 (ing)">
<meta name="twitter:description" content="我只是一个简单的学习笔记。  learn from this book:  《ECMAScript 6 入门》 by 阮一峰">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://letica.github.io/2016/10/14/es6-learning-notes/"/>





  <title> ES6 学习笔记 (ing) | letica'ss timezone </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?3c28f55ed3a230f5dc516bd83e9901c1";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>










  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">letica'ss timezone</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://letica.github.io/2016/10/14/es6-learning-notes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Letica">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars2.githubusercontent.com/u/5069297?v=3&s=460">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="letica'ss timezone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                ES6 学习笔记 (ing)
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-10-14T19:07:06+08:00">
                2016-10-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/front-end/" itemprop="url" rel="index">
                    <span itemprop="name">front-end</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <blockquote>
<p>我只是一个简单的学习笔记。</p>
</blockquote>
<p>learn from this book:  <a href="http://es6.ruanyifeng.com/" target="_blank" rel="external">《ECMAScript 6 入门》</a> by 阮一峰</p>
<a id="more"></a>
<!-- toc -->
<ul>
<li><a href="#0-发展历史">0. 发展历史</a></li>
<li><a href="#1-环境">1. 环境</a><ul>
<li><a href="#node-推荐使用nvm管理node版本">node (推荐使用nvm管理node版本)</a></li>
<li><a href="#babel转码工具">Babel转码工具</a></li>
</ul>
</li>
<li><a href="#2-主要内容">2. 主要内容</a><ul>
<li><a href="#数据类型变化">数据类型变化</a><ul>
<li><a href="#新增-symbol-类型">新增 symbol 类型</a></li>
<li><a href="#object">Object</a></li>
</ul>
</li>
<li><a href="#语法变化">语法变化</a><ul>
<li><a href="#变量声明">变量声明</a></li>
<li><a href="#模板字符串">模板字符串</a></li>
<li><a href="#不定参数-默认参数">不定参数、默认参数</a></li>
<li><a href="#解构">解构</a></li>
<li><a href="#箭头函数">箭头函数</a></li>
<li><a href="#循环">循环</a></li>
<li><a href="#迭代器">迭代器</a></li>
<li><a href="#生成器">生成器</a></li>
<li><a href="#模块">模块</a></li>
<li><a href="#集合">集合</a></li>
<li><a href="#代理-proxy">代理 Proxy</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- tocstop -->
<h2 id="0-发展历史"><a href="#0-发展历史" class="headerlink" title="0. 发展历史"></a>0. 发展历史</h2><ul>
<li>1996.11，ECMAScript 1.0发布</li>
<li>1998.6，ECMAScript 2.0发布</li>
<li>1999.12，ECMAScript 3.0发布</li>
<li>2000~2007.10，ECMAScript 4.0草案发布，最终因分歧较大未发布正式版本</li>
<li>2009.12，ECMAScript 5.0</li>
<li>2011.6，ECMAScript 5.1发布</li>
<li>2015.6，ES2015（《ECMAScript 2015标准》）发布</li>
<li>2016.6，ES2016（《ECMAScript 2016标准》）发布</li>
</ul>
<blockquote>
<p>ES6既是一个历史名词，也是一个泛指，含义是5.1版以后的JavaScript的下一代标准，涵盖了ES2015、ES2016、ES2017等等，而ES2015则是正式名称，特指该年发布的正式版本的语言标准。</p>
<p>本书中提到“ES6”的地方，一般是指ES2015标准，但有时也是泛指“下一代JavaScript语言”。</p>
</blockquote>
<p>ECMAScript 与 Javascript 的区别是：前者是后者的规格，后者是前者的一种实现。</p>
<h2 id="1-环境"><a href="#1-环境" class="headerlink" title="1. 环境"></a>1. 环境</h2><h3 id="node-推荐使用nvm管理node版本"><a href="#node-推荐使用nvm管理node版本" class="headerlink" title="node (推荐使用nvm管理node版本)"></a>node (推荐使用nvm管理node版本)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 安装nvm，&lt;version number&gt;需要用版本号替换，目前是v0.32.0</span></span></div><div class="line"><span class="meta">$</span><span class="bash"> curl -o- https://raw.githubusercontent.com/creationix/nvm/&lt;version number&gt;/install.sh | bash</span></div><div class="line"><span class="meta"></span></div><div class="line">#<span class="bash"><span class="comment"># 激活nvm</span></span></div><div class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">source</span> ~/.nvm/nvm.sh</span></div><div class="line"><span class="meta"></span></div><div class="line">#<span class="bash"><span class="comment"># 列出远程node版本</span></span></div><div class="line"><span class="meta">$</span><span class="bash"> nvm ls-remote</span></div><div class="line"><span class="meta"></span></div><div class="line">#<span class="bash"><span class="comment"># 安装指定版本的node</span></span></div><div class="line"><span class="meta">$</span><span class="bash"> nvm install v4.1.2</span></div><div class="line"><span class="meta"></span></div><div class="line">#<span class="bash"><span class="comment"># 切换到指定版本</span></span></div><div class="line"><span class="meta">$</span><span class="bash"> nvm use v4.1.2</span></div><div class="line"><span class="meta"></span></div><div class="line">#<span class="bash"><span class="comment"># 查看当前已安装的node版本</span></span></div><div class="line"><span class="meta">$</span><span class="bash"> nvm ls</span></div><div class="line"><span class="meta"></span></div><div class="line">#<span class="bash"><span class="comment"># 设置指定版本为默认的node版本</span></span></div><div class="line"><span class="meta">$</span><span class="bash"> nvm <span class="built_in">alias</span> default stable</span></div><div class="line"><span class="meta"></span></div><div class="line">#<span class="bash"><span class="comment"># 查看当前node版本</span></span></div><div class="line"><span class="meta">$</span><span class="bash"> node -v</span></div><div class="line"><span class="meta"></span></div><div class="line">#<span class="bash"><span class="comment"># 查看node安装目录</span></span></div><div class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">which</span> node</span></div><div class="line"><span class="meta"></span></div><div class="line">#<span class="bash"><span class="comment"># npm安装的全局目录</span></span></div><div class="line"><span class="meta">$</span><span class="bash"> npm config get prefix</span></div><div class="line"><span class="meta">$</span><span class="bash"> npm config <span class="built_in">set</span> prefix /usr/<span class="built_in">local</span>/</span></div></pre></td></tr></table></figure>
<h3 id="babel转码工具"><a href="#Babel转码工具" class="headerlink" title="Babel转码工具"></a>Babel转码工具</h3><p>由于浏览器暂不支持 es6 的解析，所以需要使用Babel，第一步是添加配置<br>有以下两种方式:</p>
<ol>
<li><p>在项目根目录添加配置文件 <code>.babelrc</code>。</p>
<figure class="highlight clojure"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    // 设定转码规则</div><div class="line">    <span class="string">"presets"</span>: [<span class="string">"es2015"</span>]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>在 <code>package.json</code> 添加如下配置</p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="string">"babel"</span>: &#123;</div><div class="line"> 　　<span class="string">"presets"</span>: [<span class="string">"es2015"</span>, <span class="string">"stage-2"</span>]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<p><a href="http://babeljs.io/repl/" target="_blank" rel="external">你可以在这里测试转码效果</a></p>
<blockquote>
<p><a href="http://babeljs.io/docs/setup/#installation" target="_blank" rel="external">Babel官网</a> 推荐将 babel-cli 安装在项目本地，原因有二：</p>
<ul>
<li>Different projects on the same machine can depend on different versions of Babel allowing you to update one at a time.</li>
<li>It means you do not have an implicit dependency on the environment you are working in. Making your project far more portable and easier to setup.</li>
</ul>
</blockquote>
<ul>
<li>一台机器上的不同项目可能会基于不同版本的 Babel ，这样允许你一次升级一个项目，不会互相影响</li>
<li>这意味着在你工作的环境下没有含义不明的依赖。使你的项目更轻便、更容易安装。</li>
</ul>
<p><a href="http://babeljs.io/docs/setup/#installation" target="_blank" rel="external">[这里还有其它的使用方式]</a></p>
<h2 id="2-主要内容"><a href="#2-主要内容" class="headerlink" title="2. 主要内容"></a>2. 主要内容</h2><h3 id="数据类型变化"><a href="#数据类型变化" class="headerlink" title="数据类型变化"></a>数据类型变化</h3><p>JS 中的数据类型有：undefined null String Number Boolean Object</p>
<h4 id="新增-symbol-类型"><a href="#新增-symbol-类型" class="headerlink" title="新增 symbol 类型"></a>新增 symbol 类型</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 创建一个新的symbol，它的值与其它任何值皆不相等：</span></div><div class="line"><span class="keyword">var</span> mySymbol = <span class="built_in">Symbol</span>()</div><div class="line"></div><div class="line"><span class="comment">// 创建一个独一无二的symbol：</span></div><div class="line"><span class="keyword">var</span> isMoving = <span class="built_in">Symbol</span>(<span class="string">"isMoving"</span>)</div></pre></td></tr></table></figure>
<ul>
<li><p>三种获取 Symbol 的方式</p>
<ol>
<li>Symbol()</li>
<li>Symbol.for(string)</li>
<li>使用标准定义的 Symbol，如 <code>Symbol.iterator</code></li>
</ol>
</li>
<li><p>tips</p>
<ul>
<li>symbol 不能被自动转为字符串或数字，但可以转为 boolean；</li>
<li>symbol 作为属性时不能被 for…in、 <code>Object.keys()</code>等遍历到，可以使用<code>Object.getOwnPropertySymbols(obj)</code> 或<code>Reflect.ownKeys(obj)</code>，前者返回对象的 symbol 键，后者返回所有字符串键和 symbol 键；</li>
<li>Symbol.keyFor(s1) 返回 symbol s1的 key 值</li>
</ul>
</li>
</ul>
<h4 id="object"><a href="#Object" class="headerlink" title="Object"></a>Object</h4><ul>
<li>Object.defineProperty()</li>
<li>Object.freeze()</li>
<li>Object.seal()</li>
</ul>
<h3 id="语法变化"><a href="#语法变化" class="headerlink" title="语法变化"></a>语法变化</h3><h4 id="变量声明"><a href="#变量声明" class="headerlink" title="变量声明"></a>变量声明</h4><ul>
<li><p>let：声明变量，类似var。与var区别如下：</p>
<ul>
<li><strong>块级作用域</strong>。只在let所在代码块内有效，for语句的计数器很适合用let声明；</li>
<li><strong>先声明后使用</strong>。不存在变量提升；暂时性死区，在一个作用域内所有变量都需要先声明后使用，否则会导致ReferenceError；</li>
<li><strong>不允许重复声明</strong>；</li>
</ul>
</li>
<li><p>const：声明常量。</p>
<ul>
<li>除 <strong>只读</strong> 外，其它特性与let类似。</li>
<li><p>const定义引用类型时，表示的是地址可读，如对象或数组，其值仍然可修改，如果要冻结，可使用<code>Object.freeze()</code>;</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> foo = <span class="built_in">Object</span>.freeze(&#123;&#125;);</div><div class="line"></div><div class="line"><span class="comment">// 常规模式时，下面一行不起作用；</span></div><div class="line"><span class="comment">// 严格模式时，该行会报错</span></div><div class="line">foo.prop = <span class="number">123</span>;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>class</p>
</li>
</ul>
<p>通常我们这样实现一个类：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Circle</span>(<span class="params">radius</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.radius = radius;</div><div class="line">    Circle.circlesMade++;</div><div class="line">&#125;</div><div class="line">Circle.draw = <span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params">circle, canvas</span>) </span>&#123; <span class="comment">/* Canvas绘制代码 */</span> &#125;</div><div class="line"><span class="built_in">Object</span>.defineProperty(Circle, <span class="string">"circlesMade"</span>, &#123;</div><div class="line">    <span class="attr">get</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> !<span class="keyword">this</span>._count ? <span class="number">0</span> : <span class="keyword">this</span>._count;</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">set</span>: <span class="function"><span class="keyword">function</span>(<span class="params">val</span>) </span>&#123;</div><div class="line">        <span class="keyword">this</span>._count = val;</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line">Circle.prototype = &#123;</div><div class="line">    area() &#123;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">Math</span>.pow(<span class="keyword">this</span>.radius, <span class="number">2</span>) * <span class="built_in">Math</span>.PI;</div><div class="line">    &#125;,</div><div class="line">    get radius() &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>._radius;</div><div class="line">    &#125;,</div><div class="line">    set radius(radius) &#123;</div><div class="line">        <span class="keyword">if</span> (!<span class="built_in">Number</span>.isInteger(radius))</div><div class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"圆的半径必须为整数。"</span>);</div><div class="line">        <span class="keyword">this</span>._radius = radius;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>现在，新增了<code>class</code> 关键字用来声明一个类，像这样：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span> </span>&#123;</div><div class="line">    <span class="keyword">constructor</span>(radius) &#123;</div><div class="line">        <span class="keyword">this</span>.radius = radius;</div><div class="line">        Circle.circlesMade++;</div><div class="line">    &#125;;</div><div class="line">    static draw(circle, canvas) &#123;</div><div class="line">        <span class="comment">// Canvas绘制代码</span></div><div class="line">    &#125;;</div><div class="line">    static <span class="keyword">get</span> circlesMade() &#123;</div><div class="line">        <span class="keyword">return</span> !<span class="keyword">this</span>._count ? <span class="number">0</span> : <span class="keyword">this</span>._count;</div><div class="line">    &#125;;</div><div class="line">    static <span class="keyword">set</span> circlesMade(<span class="keyword">val</span>) &#123;</div><div class="line">        <span class="keyword">this</span>._count = <span class="keyword">val</span>;</div><div class="line">    &#125;;</div><div class="line">    area() &#123;</div><div class="line">        <span class="keyword">return</span> Math.pow(<span class="keyword">this</span>.radius, <span class="number">2</span>) * Math.PI;</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">get</span> radius() &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>._radius;</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">set</span> radius(radius) &#123;</div><div class="line">        <span class="keyword">if</span> (!Number.isInteger(radius))</div><div class="line">            <span class="keyword">throw</span> new Error(<span class="string">"圆的半径必须为整数。"</span>);</div><div class="line">        <span class="keyword">this</span>._radius = radius;</div><div class="line">    &#125;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>同时，还增加了<code>extends</code>来实现继承：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Shape</span> </span>&#123;</div><div class="line">    get color() &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>._color;</div><div class="line">    &#125;</div><div class="line">    set color(c) &#123;</div><div class="line">        <span class="keyword">this</span>._color = parseColorAsRGB(c);</div><div class="line">        <span class="keyword">this</span>.markChanged();  <span class="comment">// 稍后重绘Canvas</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> <span class="keyword">extends</span> <span class="title">Shape</span> </span>&#123;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>ES5中，var或function定义的全局变量与顶层对象(window/global)的属性等价。<br>ES6中，let、const、class定义的全局变量不再跟顶层对象有关联。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</div><div class="line"><span class="comment">// 如果在Node的REPL环境，可以写成global.a</span></div><div class="line"><span class="comment">// 或者采用通用方法，写成this.a</span></div><div class="line"><span class="built_in">window</span>.a <span class="comment">// 1</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> b = <span class="number">1</span>;</div><div class="line"><span class="built_in">window</span>.b <span class="comment">// undefined</span></div></pre></td></tr></table></figure>
<h4 id="模板字符串"><a href="#模板字符串" class="headerlink" title="模板字符串"></a>模板字符串</h4><ul>
<li><p>基础使用方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">'world'</span></div><div class="line"><span class="keyword">var</span> result = <span class="string">`hello <span class="subst">$&#123;str&#125;</span>`</span> <span class="comment">// 'hello world'</span></div></pre></td></tr></table></figure>
</li>
<li><p>标签模板 tagged templates<br>语法：模板字符串开始的反撇号前附加一个额外的标签，可以是标识符、属性值或方法调用等任何 ES6的成员表达式或调用表达式。</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> message = SaferHTML<span class="string">`&lt;p&gt;<span class="subst">$&#123;bonk.sender&#125;</span> 向你示好。&lt;/p&gt;`</span>;</div><div class="line"></div><div class="line"><span class="comment">// 等效于</span></div><div class="line"><span class="keyword">var</span> message = SaferHTML(templateData, bonk.sender);</div><div class="line"></div><div class="line"><span class="comment">// SaferHTML是一个普通的函数，它可以是这样：</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SaferHTML</span>(<span class="params">templateData</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> s = templateData[<span class="number">0</span>];</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; <span class="built_in">arguments</span>.length; i++) &#123;</div><div class="line">    <span class="keyword">var</span> arg = <span class="built_in">String</span>(<span class="built_in">arguments</span>[i]);</div><div class="line"></div><div class="line">    <span class="comment">// 转义占位符中的特殊字符。</span></div><div class="line">    s += arg.replace(<span class="regexp">/&amp;/g</span>, <span class="string">"&amp;"</span>)</div><div class="line">            .replace(<span class="regexp">/&lt;/g</span>, <span class="string">"&lt;"</span>)</div><div class="line">            .replace(<span class="regexp">/&lt;/g</span>, <span class="string">"&gt;"</span>);</div><div class="line"></div><div class="line">    <span class="comment">// 不转义模板中的特殊字符。</span></div><div class="line">    s += templateData[i];</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> s;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="不定参数-默认参数"><a href="#不定参数、默认参数" class="headerlink" title="不定参数、默认参数"></a>不定参数、默认参数</h4><ul>
<li><p>不定参数</p>
<ol>
<li>使用 <code>arguments</code>解决</li>
<li><p>使用 <code>...</code> 展开运算符</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// needles 是 haystack 后面所有参数组成的数组</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">containsAll</span><span class="params">(haystack, <span class="rest_arg">...needles</span>)</span> </span>&#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> needle of needles) &#123;</div><div class="line">        <span class="keyword">if</span> (haystack.indexOf(needle) === <span class="number">-1</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="literal">false</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>默认参数<br>形参部分通过赋值语句可以设置默认参数，从左至右依次赋值</p>
</li>
</ul>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">function</span> <span class="title">getItemById</span> (id = 0) &#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">&#123;</span></div><div class="line">        id,</div><div class="line">        name: <span class="symbol">'moly</span>'</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="解构"><a href="#解构" class="headerlink" title="解构"></a>解构</h4><ul>
<li><p>对象赋值模式</p>
<p>  被解构的值需要被强制转换为对象。因此 null 和 undefined 不能被解构。</p>
  <figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">var</span> &#123;<span class="selector-tag">a</span>, b&#125; = &#123;<span class="selector-tag">a</span>: <span class="number">1</span>, <span class="selector-tag">b</span>: <span class="number">2</span>&#125; <span class="comment">// a: 1, b: 2</span></div><div class="line"><span class="selector-tag">var</span> &#123;<span class="selector-tag">a</span>: name&#125; = &#123;<span class="selector-tag">a</span>: <span class="string">'moly'</span>&#125; <span class="comment">// name: moly</span></div></pre></td></tr></table></figure>
</li>
<li><p>数组赋值模式</p>
<p>  被解构的值一定要包含一个迭代器。同样 null 和 undefined 不可迭代。</p>
  <figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var [a, b] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</div><div class="line">var [head, ...tail] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]; <span class="comment">// head: 1,  tail: [2, 3, 4]</span></div></pre></td></tr></table></figure>
</li>
<li><p>用途总结</p>
<ul>
<li><p>交换变量的值</p>
  <figure class="highlight accesslog"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">[x, y]</span> = <span class="string">[y, x]</span></div></pre></td></tr></table></figure>
</li>
<li><p>函数参数定义</p>
  <figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 参数是一组有次序的值</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span><span class="params">([x, y, z])</span> </span>&#123; ... &#125;</div><div class="line">f([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</div><div class="line"></div><div class="line"><span class="comment">// 参数是一组无次序的值</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span><span class="params">(&#123;x, y, z&#125;)</span> </span>&#123; ... &#125;</div><div class="line">f(&#123;z: <span class="number">3</span>, y: <span class="number">2</span>, x: <span class="number">1</span>&#125;)</div></pre></td></tr></table></figure>
</li>
<li><p>函数参数的默认值</p>
  <figure class="highlight haxe"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">jQuery.ajax = <span class="function"><span class="keyword">function</span> </span>(url, &#123;</div><div class="line">    async = <span class="literal">true</span>,</div><div class="line">    beforeSend = <span class="function"><span class="keyword">function</span> </span>() &#123;&#125;,</div><div class="line">    cache = <span class="literal">true</span>,</div><div class="line">    complete = <span class="function"><span class="keyword">function</span> </span>() &#123;&#125;,</div><div class="line">    crossDomain = <span class="literal">false</span>,</div><div class="line">    global = <span class="literal">true</span>,</div><div class="line">    <span class="comment">// ... more config</span></div><div class="line">&#125;) &#123;</div><div class="line">  <span class="comment">// ... do stuff</span></div><div class="line">&#125;;</div><div class="line"><span class="comment">// 避免了 var foo = config.foo || 'default foo' 这样的语句</span></div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<pre><code>- 遍历Map

    <figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">var</span> <span class="built_in">map</span> = <span class="built_in">new</span> Map()</div><div class="line"><span class="built_in">map</span>.set('<span class="built_in">first</span>', 'hello')</div><div class="line"><span class="built_in">map</span>.set('<span class="built_in">second</span>', 'world')</div><div class="line">// [<span class="built_in">key</span>] 或 [, value] 可以只获取<span class="built_in">key</span>或只获取value</div><div class="line"><span class="keyword">for</span> (<span class="built_in">let</span> [<span class="built_in">key</span>, value] of <span class="built_in">map</span>) &#123;</div><div class="line">    console.<span class="built_in">log</span>(<span class="built_in">key</span> + <span class="string">" is "</span> + value)</div><div class="line">&#125;</div><div class="line">// <span class="built_in">first</span> <span class="built_in">is</span> hello</div><div class="line">// <span class="built_in">second</span> <span class="built_in">is</span> world</div></pre></td></tr></table></figure>

- 多重返回值
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 数组形式</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">returnMultipleValues</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> [<span class="number">1</span>, <span class="number">2</span>]</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> [foo, bar] = returnMultipleValues()</div><div class="line"></div><div class="line"><span class="comment">// 对象形式</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">returnMultipleValues</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        foo: <span class="number">1</span>,</div><div class="line">        bar: <span class="number">2</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> &#123;foo, bar&#125; = returnMultipleValues()</div></pre></td></tr></table></figure>

- 输入模块的指定方法

    <figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const &#123;SourceMapConsumer, SourceNode&#125; = <span class="built_in">require</span>(<span class="string">"source-map"</span>);</div><div class="line"><span class="regexp">//</span> 类似 `<span class="javascript"><span class="keyword">import</span></span>` 的语法</div></pre></td></tr></table></figure>
</code></pre><h4 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">var</span> sum = (<span class="selector-tag">a</span>, b) =&gt; <span class="selector-tag">a</span> + <span class="selector-tag">b</span></div><div class="line"><span class="function"><span class="title">sum</span><span class="params">(<span class="number">2</span>, <span class="number">3</span>)</span></span> <span class="comment">// 5</span></div></pre></td></tr></table></figure>
<ul>
<li>箭头函数没有自己的 this 值，它的 this 继承自外围作用域</li>
<li>箭头函数没有自己的 arguments 值，可以使用不定参数和默认参数来实现</li>
</ul>
<p>详细的语法参考 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Arrow_functions" target="_blank" rel="external">这里</a></p>
<h4 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h4><ul>
<li><p>最初我们使用普通的 for 循环遍历数组</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</div><div class="line"><span class="keyword">for</span> (var <span class="built_in">i</span> = <span class="number">0</span>; <span class="built_in">i</span> &lt; arr.<span class="built_in">length</span>; <span class="built_in">i</span>++) &#123;</div><div class="line">    console.log(i, arr[i])</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>ES5之后，使用 Array.prototype.forEach</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">arr.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(val)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
</ul>
<p>forEach 的缺点： 不能使用 break 中断循环；不能使用 return 返回外层。</p>
<ul>
<li>或许也可以试一下 for-in 循环<figure class="highlight glsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> (var <span class="keyword">index</span> <span class="keyword">in</span> arr) &#123;</div><div class="line">    console.<span class="built_in">log</span>(arr[<span class="keyword">index</span>])</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>for-in 的缺点：循环变量 index 不是数字而是字符串；遍历的不仅包含数组元素还可能包含自定义属性，如 arr.name；更甚，遍历结果可能按随机顺序 orz！</p>
<p>其实 for-in 是为遍历对象而设计的。</p>
<ul>
<li>请使用 for-of 循环吧<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> (var <span class="keyword">val</span> <span class="keyword">of</span> arr) &#123;</div><div class="line">    console.log(<span class="keyword">val</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>简洁而正确，可正确响应 <code>break</code>、<code>continue</code>、<code>return</code>。<br>它为遍历各种集合而设计，实际是调用集合的<code>[Symbol.iterator]()</code>方法。<br>但它也有缺点，那就是无法获取索引值。<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 因为jQuery对象与数组相似，可以为其添加与数组一致的迭代器方法</span></div><div class="line">jQuery<span class="selector-class">.prototype</span>[Symbol.iterator] = Array<span class="selector-class">.prototype</span>[Symbol.iterator]</div><div class="line"><span class="comment">// 这样就可以使用 for-of 遍历 jQuery 对象了</span></div><div class="line"><span class="keyword">for</span> (<span class="selector-tag">var</span> <span class="variable">$item</span> of $(<span class="string">'div'</span>)) &#123;</div><div class="line">    console.log(<span class="variable">$item</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h4><p>Array/Set/Map 都有一个迭代器方法，也就是<code>[Symbol.iterator]()</code>。可以为任何对象添加这个方法，拥有这个方法的对象被称为<code>可迭代的</code>。</p>
<p>迭代器是一个拥有 <code>next</code> 方法的对象，遍历这个对象时，每个循环都调用 next 方法。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> zeroesForeverIterator = &#123;</div><div class="line">    [Symbol.iterator] () &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span></div><div class="line">    &#125;,</div><div class="line">    next () &#123;</div><div class="line">        <span class="keyword">return</span> &#123;done: <span class="literal">false</span>, value: <span class="number">0</span>&#125;;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="生成器"><a href="#生成器" class="headerlink" title="生成器"></a>生成器</h4><p>生成器是一种特殊的函数，它与函数有以下不同：</p>
<ol>
<li>使用 <code>function*</code> 声明；</li>
<li>函数内部可以写无数个 <code>yield</code> 语句，类似<code>return</code>；</li>
<li>调用生成器函数，返回一个暂停的生成器对象；</li>
<li>每当调用生成器对象的 <code>.next()</code> 方法，函数将开启运行直到下一个<code>yield</code>语句，并返回对象 <code>{value: &#39;yield 后的值&#39;, done: false}</code>，执行到最后一个 yield 时，返回对象的 done 值为 true。</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>* <span class="title">quips</span> (<span class="params">name</span>) </span>&#123;</div><div class="line">    <span class="keyword">yield</span> <span class="string">'this'</span></div><div class="line">    <span class="keyword">yield</span> <span class="string">'is'</span></div><div class="line">    <span class="keyword">yield</span> name + <span class="string">'\'s'</span></div><div class="line">    <span class="keyword">yield</span> <span class="string">'generator'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> q = quips(<span class="string">'celine'</span>)</div><div class="line">q.next()  <span class="comment">// &#123;value: 'this', done: false&#125;</span></div><div class="line">q.next()  <span class="comment">// &#123;value: 'is', done: false&#125;</span></div><div class="line">q.next()  <span class="comment">// &#123;value: 'celine's', done: false&#125;</span></div><div class="line">q.next()  <span class="comment">// &#123;value: 'generator', done: true&#125;</span></div></pre></td></tr></table></figure>
<p>这个奇怪的东西是用来干嘛的呢？</p>
<p>假如我想实现一个 range 迭代器，像这样：<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 应该弹出三次 "ding"</span></div><div class="line"><span class="keyword">for</span> (<span class="function"><span class="keyword">var</span> <span class="keyword">value</span> of <span class="title">range</span>(<span class="params"><span class="number">0</span>, <span class="number">3</span></span>)) </span>&#123;</div><div class="line">    alert(<span class="string">"Ding! at floor #"</span> + <span class="keyword">value</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 方法一：使用 ES6的 class 实现</span></div><div class="line"><span class="keyword">class</span> <span class="title">RangeIterator</span> &#123;</div><div class="line">  constructor(start, stop) &#123;</div><div class="line">    <span class="keyword">this</span>.<span class="keyword">value</span> = start;</div><div class="line">    <span class="keyword">this</span>.stop = stop;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  [Symbol.iterator]() &#123; <span class="keyword">return</span> <span class="keyword">this</span>; &#125;</div><div class="line"></div><div class="line">  next() &#123;</div><div class="line">    <span class="keyword">var</span> <span class="keyword">value</span> = <span class="keyword">this</span>.<span class="keyword">value</span>;</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">value</span> &lt; <span class="keyword">this</span>.stop) &#123;</div><div class="line">      <span class="keyword">this</span>.<span class="keyword">value</span>++;</div><div class="line">      <span class="keyword">return</span> &#123;done: <span class="literal">false</span>, <span class="keyword">value</span>: <span class="keyword">value</span>&#125;;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      <span class="keyword">return</span> &#123;done: <span class="literal">true</span>, <span class="keyword">value</span>: undefined&#125;;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 返回一个新的迭代器，可以从start到stop计数。</span></div><div class="line"><span class="function">function <span class="title">range</span>(<span class="params">start, stop</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="keyword">new</span> RangeIterator(start, stop);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 方法二：用生成器</span></div><div class="line">function* range (start, stop) &#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = start; i &lt; stop; i++) &#123;</div><div class="line">        <span class="keyword">yield</span> i;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>就是这么简洁明了，我和我的小伙伴都惊呆了！</p>
<blockquote>
<p>生成器是迭代器。</p>
</blockquote>
<h4 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h4><ul>
<li>es6中，一个js 文件是一个模块，默认为严格模式；</li>
<li>在模块中可以使用 import 来引入模块，用 export 来导出模块。</li>
</ul>
<h4 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h4><h4 id="代理-proxy"><a href="#代理-Proxy" class="headerlink" title="代理 Proxy"></a>代理 Proxy</h4>
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/ES6/" rel="tag"># ES6</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/10/10/front-end-auto-testing/" rel="next" title="前端自动化测试">
                <i class="fa fa-chevron-left"></i> 前端自动化测试
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/03/29/interview-2017/" rel="prev" title="前端面试分享">
                前端面试分享 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://avatars2.githubusercontent.com/u/5069297?v=3&s=460"
               alt="Letica" />
          <p class="site-author-name" itemprop="name">Letica</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">15</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">14</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#0-发展历史"><span class="nav-number">1.</span> <span class="nav-text">0. 发展历史</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-环境"><span class="nav-number">2.</span> <span class="nav-text">1. 环境</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#node-推荐使用nvm管理node版本"><span class="nav-number">2.1.</span> <span class="nav-text">node (推荐使用nvm管理node版本)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#babel转码工具"><span class="nav-number">2.2.</span> <span class="nav-text">Babel转码工具</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-主要内容"><span class="nav-number">3.</span> <span class="nav-text">2. 主要内容</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#数据类型变化"><span class="nav-number">3.1.</span> <span class="nav-text">数据类型变化</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#新增-symbol-类型"><span class="nav-number">3.1.1.</span> <span class="nav-text">新增 symbol 类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#object"><span class="nav-number">3.1.2.</span> <span class="nav-text">Object</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#语法变化"><span class="nav-number">3.2.</span> <span class="nav-text">语法变化</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#变量声明"><span class="nav-number">3.2.1.</span> <span class="nav-text">变量声明</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#模板字符串"><span class="nav-number">3.2.2.</span> <span class="nav-text">模板字符串</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#不定参数-默认参数"><span class="nav-number">3.2.3.</span> <span class="nav-text">不定参数、默认参数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#解构"><span class="nav-number">3.2.4.</span> <span class="nav-text">解构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#箭头函数"><span class="nav-number">3.2.5.</span> <span class="nav-text">箭头函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#循环"><span class="nav-number">3.2.6.</span> <span class="nav-text">循环</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#迭代器"><span class="nav-number">3.2.7.</span> <span class="nav-text">迭代器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#生成器"><span class="nav-number">3.2.8.</span> <span class="nav-text">生成器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#模块"><span class="nav-number">3.2.9.</span> <span class="nav-text">模块</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#集合"><span class="nav-number">3.2.10.</span> <span class="nav-text">集合</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#代理-proxy"><span class="nav-number">3.2.11.</span> <span class="nav-text">代理 Proxy</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Letica</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  













  





  

  

  

  

</body>
</html>
